(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-works-Firstvisit-magFirstvisit"],{"0361":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.box[data-v-ad48a018]{background-color:#fff;padding-bottom:80px;box-sizing:border-box}.box .cu-form-group[data-v-ad48a018]{width:95%;background:#fff;margin:auto;border-radius:10px;margin-top:10px;margin-left:2.5%;margin-bottom:10px;padding:10px;padding-bottom:30px;border:1px solid silver;float:left}.box .textstylecelo[data-v-ad48a018]{line-height:25px}.box .textstylecelo .span1[data-v-ad48a018]{display:block;float:left;width:80px}.box .clattab[data-v-ad48a018]{width:100%;position:fixed;bottom:-10px;text-align:center;background-color:#fff;z-index:99;margin-bottom:0;border-radius:0}.box .clattab uni-button[data-v-ad48a018]{width:120px;height:40px;margin:20px}.box .basicinformation[data-v-ad48a018]{width:95%;background:#fff;margin:auto;border-radius:10px;margin-top:10px;margin-left:2.5%;margin-bottom:10px;border:1px solid silver;float:left}.box .basicinformation .Task1[data-v-ad48a018]{width:95%;margin:auto;box-sizing:border-box;background-color:#007aff}.box .basicinformation .Task1 .head[data-v-ad48a018]{width:80%;height:25px;background-color:#007aff;color:#fff;border-radius:5px;font-weight:700;overflow:hidden;line-height:25px;padding-left:15px;box-sizing:border-box;font-size:13px;float:left}.box .basicinformation .Task1 .ps[data-v-ad48a018]{width:25px;height:25px;line-height:25px;box-sizing:border-box;float:left;margin-left:20px}.box .basicinformation .Task1 .ps uni-image[data-v-ad48a018]{display:block;width:25px;height:25px;float:left}.box .basicinformation .Task1 .EquPhotos[data-v-ad48a018]{width:100%;height:135px;background-color:#d8d8d8;border-radius:10px;float:left;margin-top:10px;margin-bottom:10px;padding:5px;box-sizing:border-box}.box .basicinformation .Task1 .EquPhotos .texts[data-v-ad48a018]{width:100%;height:20px;line-height:20px;font-size:13px;font-weight:700}.box .basicinformation .Task1 .EquPhotos .texts uni-image[data-v-ad48a018]{width:20px;height:20px;float:right}.box .basicinformation .Task1 .EquPhotos .pushimg[data-v-ad48a018]{width:100%;height:105px}.box .basicinformation .Task1 .EquPhotos .pushimg .left[data-v-ad48a018]{width:105px;height:105px;float:left;margin-left:20px;overflow:hidden}.box .basicinformation .Task1 .EquPhotos .pushimg .left .images[data-v-ad48a018]{width:100%;height:100%}.box .basicinformation .Task1 .EquPhotos .pushimg .right[data-v-ad48a018]{margin-left:60px}.box .basicinformation .text[data-v-ad48a018]{width:95%;height:30px;display:block;margin:auto;line-height:30px}.box .basicinformation .text .span[data-v-ad48a018]{width:100px;display:block;height:100%;float:left}.box .basicinformation .text2[data-v-ad48a018]{width:95%;display:block;margin:auto;line-height:30px}.box .basicinformation .text2 .span[data-v-ad48a018]{width:100px;display:block;height:100%;float:left}',""]),t.exports=e},"0bde":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.u-card[data-v-b6c63cd2]{position:relative;overflow:hidden;font-size:%?28?%;background-color:#fff;box-sizing:border-box}.u-card-full[data-v-b6c63cd2]{margin-left:0!important;margin-right:0!important}.u-card--border[data-v-b6c63cd2]:after{border-radius:%?16?%}.u-card__head--left[data-v-b6c63cd2]{color:#303133}.u-card__head--left__thumb[data-v-b6c63cd2]{margin-right:%?16?%}.u-card__head--left__title[data-v-b6c63cd2]{max-width:%?400?%}.u-card__head--right[data-v-b6c63cd2]{color:#909399;margin-left:%?6?%}.u-card__body[data-v-b6c63cd2]{color:#606266}.u-card__foot[data-v-b6c63cd2]{color:#909399}',""]),t.exports=e},1008:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uForm:i("eb00").default,uFormItem:i("c9ac").default,uInput:i("8db5").default,uButton:i("1351").default,uSubsection:i("888f").default,uCard:i("9c12").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"basicinformation"},[i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"span"},[t._v("拜访发起人：")]),t._v(t._s(t.Dto.VisiterName))],1),i("v-uni-view",{staticClass:"text2"},[i("v-uni-view",{staticClass:"span"},[t._v("客户全称：")]),t._v(t._s(t.Dto.CusFullName))],1),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"span"},[t._v("当前状态：")]),t._v(t._s(t.Dto.StateStr))],1),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"span"},[t._v("创建时间：")]),t._v(t._s(t._f("timeData")(t.Dto.CreateDate)))],1),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"span"},[t._v("开始时间：")]),t._v(t._s(t._f("timeData")(t.Dto.BeginTime)))],1),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"span"},[t._v("结束时间：")]),t._v(t._s(t._f("timeData")(t.Dto.EndTime)))],1)],1),1!=t.Dto.State?i("v-uni-view",{staticClass:"basicinformation",staticStyle:{"padding-left":"10px"}},[i("u-form",{ref:"uForm",attrs:{model:t.form}},[i("u-form-item",{attrs:{"label-width":"200rpx",label:"售后产值(万)"}},[i("u-input",{attrs:{type:"number","auto-height":!0,placeholder:"请输入金额"},model:{value:t.form.OutputValue,callback:function(e){t.$set(t.form,"OutputValue",e)},expression:"form.OutputValue"}})],1),i("u-form-item",{attrs:{"label-width":"200rpx",label:"隶属集团"}},[i("u-input",{attrs:{type:"textarea",maxlength:"99999","auto-height":!0},model:{value:t.form.AffiliatedGroup,callback:function(e){t.$set(t.form,"AffiliatedGroup",e)},expression:"form.AffiliatedGroup"}})],1),i("u-form-item",{attrs:{"label-width":"200rpx",label:"审批流程"}},[i("u-input",{attrs:{type:"textarea",maxlength:"99999","auto-height":!0},model:{value:t.form.ApprovalProcess,callback:function(e){t.$set(t.form,"ApprovalProcess",e)},expression:"form.ApprovalProcess"}})],1),i("u-form-item",{attrs:{"label-width":"200rpx",label:"财务预算"}},[i("u-input",{attrs:{type:"textarea",maxlength:"99999","auto-height":!0},model:{value:t.form.FinancialBudget,callback:function(e){t.$set(t.form,"FinancialBudget",e)},expression:"form.FinancialBudget"}})],1),i("u-form-item",{attrs:{"label-width":"200rpx",label:"建店年份"}},[i("u-input",{attrs:{type:"number","auto-height":!0,placeholder:"请输入建店年份"},model:{value:t.form.BuildYear,callback:function(e){t.$set(t.form,"BuildYear",e)},expression:"form.BuildYear"}})],1),i("u-form-item",{attrs:{"label-width":"200rpx",label:"其它信息"}},[i("u-input",{attrs:{type:"textarea",maxlength:"99999","auto-height":!0},model:{value:t.form.OtherInfo,callback:function(e){t.$set(t.form,"OtherInfo",e)},expression:"form.OtherInfo"}})],1)],1)],1):t._e(),2==t.Dto.State?i("u-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"mini",type:"success"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.CreateProuctionList()}}},[t._v("设备分类")]):t._e(),2==t.Dto.State?i("u-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"mini",type:"success"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.CreateProuction()}}},[t._v("添加设备")]):t._e(),2==t.Dto.State?i("u-subsection",{staticStyle:{width:"180px",float:"left","margin-left":"10px"},attrs:{list:t.subsectionlist,height:"50","font-size":"25","active-color":"#ff9900",current:t.current},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.ModifyCurrent.apply(void 0,arguments)}}}):t._e(),i("br"),2==t.Dto.State?i("v-uni-view",{staticStyle:{width:"100%",float:"right","text-align":"right","padding-right":"10px","box-sizing":"border-box","line-height":"40px",color:"#2979ff"}},[i("span",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.route_path()}}},[t._v("查看已扫码录入的设备")])]):t._e(),1!=t.Dto.State?i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-textarea",{staticStyle:{width:"100%",height:"300px"},attrs:{id:"Content",maxlength:"-1",placeholder:"请输入设备概述"},model:{value:t.indexEquOverview,callback:function(e){t.indexEquOverview=e},expression:"indexEquOverview"}})],1):t._e(),2==t.Dto.State?i("u-button",{staticStyle:{float:"right","margin-right":"10px"},attrs:{size:"mini",type:"success"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.CreateCusLinkMan()}}},[t._v("添加联系人")]):t._e(),1!=t.Dto.State?i("v-uni-view",{staticClass:"basicinformation",staticStyle:{background:"#f4f4f4"}},t._l(t.LinkMans,(function(e,a){return i("u-card",{key:a,attrs:{title:e.Name}},[i("v-uni-view",{attrs:{slot:"body"},slot:"body"},[i("v-uni-view",{staticClass:"textstylecelo"},[i("span",{staticClass:"span1"},[t._v("英文名：")]),i("span",[t._v(t._s(e.NameEn||" - - "))])]),i("v-uni-view",{staticClass:"textstylecelo"},[i("span",{staticClass:"span1"},[t._v("职位：")]),i("span",[t._v(t._s(e.Position||" - - "))])]),i("v-uni-view",{staticClass:"textstylecelo"},[i("span",{staticClass:"span1"},[t._v("手机号：")]),i("span",[t._v(t._s(e.Mobile||" - - "))])]),i("v-uni-view",{staticClass:"textstylecelo"},[i("span",{staticClass:"span1"},[t._v("电话：")]),i("span",[t._v(t._s(e.Tel||" - - "))])]),i("v-uni-view",{staticClass:"textstylecelo"},[i("span",{staticClass:"span1"},[t._v("邮箱：")]),i("span",[t._v(t._s(e.Email||" - - "))])])],1)],1)})),1):t._e(),1==t.Dto.State?i("v-uni-view",{staticClass:"clattab",staticStyle:{border:"none"}},[i("u-button",{attrs:{size:"mini",type:"info"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.UpdateCusVisitState(0)}}},[t._v("撤回")]),i("u-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.UpdateCusVisitState(2)}}},[t._v("开始拜访")])],1):t._e(),2==t.Dto.State?i("v-uni-view",{staticClass:"clattab",staticStyle:{border:"none"}},[i("u-button",{attrs:{size:"mini",type:"info"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.SaveCusVisit()}}},[t._v("保存")]),i("u-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.UpdateCusVisitState(3)}}},[t._v("完成")])],1):t._e()],1)},o=[]},1960:function(t,e,i){var a=i("0bde");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("76e96516",a,!0,{sourceMap:!1,shadowMode:!1})},"21ee":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.u-subsection[data-v-4f88e97c]{display:flex;flex-direction:row;align-items:center;overflow:hidden;position:relative}.u-item[data-v-4f88e97c]{flex:1;text-align:center;font-size:%?26?%;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;color:#303133;padding:0 %?6?%}.u-item-bg[data-v-4f88e97c]{background-color:#2979ff;position:absolute;z-index:-1}.u-none-border-right[data-v-4f88e97c]{border-right:none!important}.u-item-first[data-v-4f88e97c]{border-top-left-radius:%?8?%;border-bottom-left-radius:%?8?%}.u-item-last[data-v-4f88e97c]{border-top-right-radius:%?8?%;border-bottom-right-radius:%?8?%}.u-item-text[data-v-4f88e97c]{transition:all .35s;color:#303133;display:flex;flex-direction:row;align-items:center;position:relative;z-index:3}',""]),t.exports=e},"22c0":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-card",class:{"u-border":t.border,"u-card-full":t.full,"u-card--border":t.borderRadius>0},style:{borderRadius:t.borderRadius+"rpx",margin:t.margin,boxShadow:t.boxShadow},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.click.apply(void 0,arguments)}}},[t.showHead?i("v-uni-view",{staticClass:"u-card__head",class:{"u-border-bottom":t.headBorderBottom},style:[{padding:t.padding+"rpx"},t.headStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.headClick.apply(void 0,arguments)}}},[t.$slots.head?t._t("head"):i("v-uni-view",{staticClass:"u-flex u-row-between"},[t.title?i("v-uni-view",{staticClass:"u-card__head--left u-flex u-line-1"},[t.thumb?i("v-uni-image",{staticClass:"u-card__head--left__thumb",style:{height:t.thumbWidth+"rpx",width:t.thumbWidth+"rpx",borderRadius:t.thumbCircle?"100rpx":"6rpx"},attrs:{src:t.thumb,mode:"aspectfull"}}):t._e(),i("v-uni-text",{staticClass:"u-card__head--left__title u-line-1",style:{fontSize:t.titleSize+"rpx",color:t.titleColor}},[t._v(t._s(t.title))])],1):t._e(),t.subTitle?i("v-uni-view",{staticClass:"u-card__head--right u-line-1"},[i("v-uni-text",{staticClass:"u-card__head__title__text",style:{fontSize:t.subTitleSize+"rpx",color:t.subTitleColor}},[t._v(t._s(t.subTitle))])],1):t._e()],1)],2):t._e(),i("v-uni-view",{staticClass:"u-card__body",style:[{padding:t.padding+"rpx"},t.bodyStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bodyClick.apply(void 0,arguments)}}},[t._t("body")],2),t.showFoot?i("v-uni-view",{staticClass:"u-card__foot",class:{"u-border-top":t.footBorderTop},style:[{padding:t.$slots.foot?t.padding+"rpx":0},t.footStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.footClick.apply(void 0,arguments)}}},[t._t("foot")],2):t._e()],1)},n=[]},2756:function(t,e,i){"use strict";i.r(e);var a=i("1008"),n=i("9613");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("7aaf");var r=i("828b"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"ad48a018",null,!1,a["a"],void 0);e["default"]=s.exports},"2cd2":function(t,e,i){var a=i("21ee");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("624b212d",a,!0,{sourceMap:!1,shadowMode:!1})},"3d14":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa");var a={name:"u-card",props:{full:{type:Boolean,default:!1},title:{type:String,default:""},titleColor:{type:String,default:"#303133"},titleSize:{type:[Number,String],default:"30"},subTitle:{type:String,default:""},subTitleColor:{type:String,default:"#909399"},subTitleSize:{type:[Number,String],default:"26"},border:{type:Boolean,default:!0},index:{type:[Number,String,Object],default:""},margin:{type:String,default:"30rpx"},borderRadius:{type:[Number,String],default:"16"},headStyle:{type:Object,default:function(){return{}}},bodyStyle:{type:Object,default:function(){return{}}},footStyle:{type:Object,default:function(){return{}}},headBorderBottom:{type:Boolean,default:!0},footBorderTop:{type:Boolean,default:!0},thumb:{type:String,default:""},thumbWidth:{type:[String,Number],default:"60"},thumbCircle:{type:Boolean,default:!1},padding:{type:[String,Number],default:"30"},showHead:{type:Boolean,default:!0},showFoot:{type:Boolean,default:!0},boxShadow:{type:String,default:"none"}},data:function(){return{}},methods:{click:function(){this.$emit("click",this.index)},headClick:function(){this.$emit("head-click",this.index)},bodyClick:function(){this.$emit("body-click",this.index)},footClick:function(){this.$emit("foot-click",this.index)}}};e.default=a},"4bdb":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2634")),o=a(i("2fdc"));i("5ef2"),i("aa9c");var r={data:function(){return{current:0,subsectionlist:[{name:"首次拜访",index:0},{name:"非首次拜访",index:1}],Dto:{},LinkMans:[],indexEquOverview:"",form:{OutputValue:"",AffiliatedGroup:"",ApprovalProcess:"",FinancialBudget:"",OtherInfo:"",BuildYear:""}}},created:function(){this.init()},onBackPress:function(){return uni.navigateTo({url:"/pages/home/works/Firstvisit/Firstvisit"}),this.$store.state.ClickCardText="",!0},filters:{timeData:function(t){return""==t||null==t||void 0==t?" - - ":t.split("T")[0]}},methods:{route_path:function(){uni.navigateTo({url:"/pages/home/works/Firstvisit/device_list?CusId=".concat(this.Dto.CusId)})},ModifyCurrent:function(t){console.log(t),this.current=t},init:function(){var t=this,e={url:this.$store.state.url+"CRM/GetCusVisit",method:"GET",header:this.$store.state.token,data:{Id:this.$store.state.FirstvisitIdindexId}};this.$http(e).then((function(e){console.log(e),t.Dto=e.Data.Dto,t.form=t.Dto,t.LinkMans=e.Data.LinkMans,0==t.form.BuildYear&&(t.form.BuildYear="");var i=t.$store.state.ClickCardText,a=t.Dto.EquOverview;""!=i&&(""==a||null==a?a=t.$store.state.ClickCardText:(a+="\n ----- \n"+t.$store.state.ClickCardText,console.log("000000"))),t.indexEquOverview=a,document.getElementById("Content").style.height="450px"}))},SaveCusVisit:function(){var t=this,e={url:this.$store.state.url+"CRM/SaveCusVisit",method:"POST",header:this.$store.state.token,data:{Id:this.$store.state.FirstvisitIdindexId,OutputValue:this.form.OutputValue,AffiliatedGroup:this.form.AffiliatedGroup,EquOverview:this.indexEquOverview,ApprovalProcess:this.form.ApprovalProcess,FinancialBudget:this.form.FinancialBudget,OtherInfo:this.form.OtherInfo,BuildYear:this.form.BuildYear}};console.log(e),this.$http(e).then((function(e){t.Detect()}))},Detect:function(){console.log(this.indexEquOverview);for(var t=null==this.indexEquOverview?[]:this.indexEquOverview,e=["举升机","轮胎拆装机","轮胎平衡仪","冷媒加注机","定位仪","大灯检测仪","制动试验台","焊机","烤漆房","充电机"],i=[],a="",n=0;n<e.length;n++)-1==t.indexOf(e[n])&&(i.push(e[n]),a+=e[n]+"-");0!=i.length&&0==this.current&&"奥迪"==this.Dto.CusType?uni.showModal({title:"保存成功!",content:"未选择 ： "+a+"\n无法进行完成操作！",success:function(t){t.confirm?console.log("用户点击确定"):t.cancel&&console.log("用户点击取消")}}):uni.showModal({title:"保存成功!",content:"",success:function(t){t.confirm?console.log("用户点击确定"):t.cancel&&console.log("用户点击取消")}})},UpdateCusVisitState:function(t){var e=this;return(0,o.default)((0,n.default)().mark((function i(){var a,o,r,s,u,l,d;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.log(e.current),console.log(e.Dto),3!=t){i.next=30;break}if(""!=e.form.OutputValue&&null!=e.form.OutputValue){i.next=6;break}return uni.showToast({title:"请补全售后产值！",icon:"none"}),i.abrupt("return",!1);case 6:if(""!=e.form.AffiliatedGroup&&null!=e.form.AffiliatedGroup){i.next=9;break}return uni.showToast({title:"请补全隶属集团！",icon:"none"}),i.abrupt("return",!1);case 9:if(""!=e.form.ApprovalProcess&&null!=e.form.ApprovalProcess){i.next=12;break}return uni.showToast({title:"请补全审批流程！",icon:"none"}),i.abrupt("return",!1);case 12:if(""!=e.form.FinancialBudget&&null!=e.form.FinancialBudget){i.next=15;break}return uni.showToast({title:"请补全财务预算！",icon:"none"}),i.abrupt("return",!1);case 15:if(""!=e.form.BuildYear&&null!=e.form.BuildYear){i.next=18;break}return uni.showToast({title:"请补全建店年份！",icon:"none"}),i.abrupt("return",!1);case 18:if(0!=e.current){i.next=30;break}if("奥迪"!=e.Dto.CusType||0!=e.current){i.next=30;break}if(""!=e.indexEquOverview&&null!=e.indexEquOverview){i.next=23;break}return uni.showToast({title:"请补全设备概述！",icon:"none"}),i.abrupt("return",!1);case 23:for(a=["举升机","轮胎拆装机","轮胎平衡仪","冷媒加注机","定位仪","大灯检测仪","制动试验台","焊机","烤漆房","充电机"],o=[],r="",s=0;s<a.length;s++)-1==e.indexEquOverview.indexOf(a[s])&&(o.push(a[s]),r+=a[s]+"-");if(0==o.length){i.next=30;break}return uni.showModal({title:"存在未选项!",content:"未选择 ： "+r+"\n无法进行完成操作！",success:function(t){t.confirm?console.log("用户点击确定"):t.cancel&&console.log("用户点击取消")}}),i.abrupt("return",!1);case 30:return u={url:e.$store.state.url+"CRM/SaveCusVisit",method:"POST",header:e.$store.state.token,data:{Id:e.$store.state.FirstvisitIdindexId,OutputValue:e.form.OutputValue,AffiliatedGroup:e.form.AffiliatedGroup,EquOverview:e.indexEquOverview,ApprovalProcess:e.form.ApprovalProcess,FinancialBudget:e.form.FinancialBudget,OtherInfo:e.form.OtherInfo,BuildYear:e.form.BuildYear}},l=e,i.next=34,e.getLocation();case 34:d=i.sent,console.log(d),l.$http(u).then((function(e){var i={url:l.$store.state.url+"CRM/UpdateCusVisitState",method:"POST",header:l.$store.state.token,data:{Id:l.$store.state.FirstvisitIdindexId,str:t,longitude:String(d.longitude),latitude:String(d.latitude)}};console.log(i),console.log("---------------------------------------------"),l.$http(i).then((function(e){l.$store.state.indexcurrent=t,3==t&&uni.navigateTo({url:"/pages/home/works/Firstvisit/Firstvisit"}),0==t&&uni.navigateTo({url:"/pages/home/works/Firstvisit/Firstvisit"}),l.init()}))}));case 37:case"end":return i.stop()}}),i)})))()},CreateCusLinkMan:function(){var t=this,e={url:this.$store.state.url+"CRM/SaveCusVisit",method:"POST",header:this.$store.state.token,data:{Id:this.$store.state.FirstvisitIdindexId,OutputValue:this.form.OutputValue,AffiliatedGroup:this.form.AffiliatedGroup,EquOverview:this.indexEquOverview,ApprovalProcess:this.form.ApprovalProcess,FinancialBudget:this.form.FinancialBudget,OtherInfo:this.form.OtherInfo,BuildYear:this.form.BuildYear}};this.$http(e).then((function(e){t.$store.state.CreateCusLinkMan=t.Dto.CusId,uni.navigateTo({url:"/pages/home/works/Firstvisit/CreateCusLinkMan"})}))},CreateProuction:function(){var t=this,e={url:this.$store.state.url+"CRM/SaveCusVisit",method:"POST",header:this.$store.state.token,data:{Id:this.$store.state.FirstvisitIdindexId,OutputValue:this.form.OutputValue,AffiliatedGroup:this.form.AffiliatedGroup,EquOverview:this.indexEquOverview,ApprovalProcess:this.form.ApprovalProcess,FinancialBudget:this.form.FinancialBudget,OtherInfo:this.form.OtherInfo,BuildYear:this.form.BuildYear}};this.$http(e).then((function(e){uni.navigateTo({url:"./addGetProductMinis"}),t.$store.state.ClickCardText=""}))},CreateProuctionList:function(){var t={url:this.$store.state.url+"CRM/SaveCusVisit",method:"POST",header:this.$store.state.token,data:{Id:this.$store.state.FirstvisitIdindexId,OutputValue:this.form.OutputValue,AffiliatedGroup:this.form.AffiliatedGroup,EquOverview:this.indexEquOverview,ApprovalProcess:this.form.ApprovalProcess,FinancialBudget:this.form.FinancialBudget,OtherInfo:this.form.OtherInfo,BuildYear:this.form.BuildYear}};this.$http(t).then((function(t){uni.navigateTo({url:"/pages/home/works/Firstvisit/CreateProuctionList"})}))}}};e.default=r},"52d9":function(t,e,i){"use strict";i.r(e);var a=i("bcdba"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"7aaf":function(t,e,i){"use strict";var a=i("fac4"),n=i.n(a);n.a},8369:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-subsection",style:[t.subsectionStyle]},[t._l(t.listInfo,(function(e,a){return i("v-uni-view",{key:a,staticClass:"u-item u-line-1",class:[t.noBorderRight(a),"u-item-"+a],style:[t.itemStyle(a)],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click(a)}}},[i("v-uni-view",{staticClass:"u-item-text u-line-1",style:[t.textStyle(a)]},[t._v(t._s(e.name))])],1)})),i("v-uni-view",{staticClass:"u-item-bg",style:[t.itemBarStyle]})],2)},n=[]},"888f":function(t,e,i){"use strict";i.r(e);var a=i("8369"),n=i("52d9");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("dbfa");var r=i("828b"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"4f88e97c",null,!1,a["a"],void 0);e["default"]=s.exports},9613:function(t,e,i){"use strict";i.r(e);var a=i("4bdb"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"9c12":function(t,e,i){"use strict";i.r(e);var a=i("22c0"),n=i("c61e");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("f83e");var r=i("828b"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"b6c63cd2",null,!1,a["a"],void 0);e["default"]=s.exports},bcdba:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("fcf3"));i("64aa"),i("fd3c"),i("c223"),i("5c47");var o={name:"u-subsection",props:{list:{type:Array,default:function(){return[]}},current:{type:[Number,String],default:0},activeColor:{type:String,default:"#303133"},inactiveColor:{type:String,default:"#606266"},mode:{type:String,default:"button"},fontSize:{type:[Number,String],default:28},animation:{type:Boolean,default:!0},height:{type:[Number,String],default:70},bold:{type:Boolean,default:!0},bgColor:{type:String,default:"#eeeeef"},buttonColor:{type:String,default:"#ffffff"},vibrateShort:{type:Boolean,default:!1}},data:function(){return{listInfo:[],itemBgStyle:{width:0,left:0,backgroundColor:"#ffffff",height:"100%",transition:""},currentIndex:this.current,buttonPadding:3,borderRadius:5,firstTimeVibrateShort:!0}},watch:{current:{immediate:!0,handler:function(t){this.currentIndex=t,this.changeSectionStatus(t)}}},created:function(){this.listInfo=this.list.map((function(t,e){if("object"!=(0,n.default)(t)){var i={width:0,name:t};return i}return t.width=0,t}))},computed:{noBorderRight:function(){var t=this;return function(e){if("subsection"==t.mode){var i="";return e<t.list.length-1&&(i+=" u-none-border-right"),0==e&&(i+=" u-item-first"),e==t.list.length-1&&(i+=" u-item-last"),i}}},textStyle:function(){var t=this;return function(e){var i={};return"subsection"==t.mode?e==t.currentIndex?i.color="#ffffff":i.color=t.activeColor:e==t.currentIndex?i.color=t.activeColor:i.color=t.inactiveColor,e==t.currentIndex&&t.bold&&(i.fontWeight="bold"),i.fontSize=t.fontSize+"rpx",i}},itemStyle:function(){var t=this;return function(e){var i={};return"subsection"==t.mode&&(i.borderColor=t.activeColor,i.borderWidth="1px",i.borderStyle="solid"),i}},subsectionStyle:function(){var t={};return t.height=uni.upx2px(this.height)+"px","button"==this.mode&&(t.backgroundColor=this.bgColor,t.padding="".concat(this.buttonPadding,"px"),t.borderRadius="".concat(this.borderRadius,"px")),t},itemBarStyle:function(){var t={};return t.backgroundColor=this.activeColor,t.zIndex=1,"button"==this.mode&&(t.backgroundColor=this.buttonColor,t.borderRadius="".concat(this.borderRadius,"px"),t.bottom="".concat(this.buttonPadding,"px"),t.height=uni.upx2px(this.height)-2*this.buttonPadding+"px",t.zIndex=0),Object.assign(this.itemBgStyle,t)}},mounted:function(){var t=this;setTimeout((function(){t.getTabsInfo()}),10)},methods:{changeSectionStatus:function(t){var e=this;"subsection"==this.mode&&(t==this.list.length-1&&(this.itemBgStyle.borderRadius="0 ".concat(this.buttonPadding,"px ").concat(this.buttonPadding,"px 0")),0==t&&(this.itemBgStyle.borderRadius="".concat(this.buttonPadding,"px 0 0 ").concat(this.buttonPadding,"px")),t>0&&t<this.list.length-1&&(this.itemBgStyle.borderRadius="0")),setTimeout((function(){e.itemBgLeft()}),10),this.vibrateShort&&this.firstTimeVibrateShort,this.firstTimeVibrateShort=!1},click:function(t){t!=this.currentIndex&&(this.currentIndex=t,this.changeSectionStatus(t),this.$emit("change",Number(t)))},getTabsInfo:function(){for(var t=this,e=uni.createSelectorQuery().in(this),i=0;i<this.list.length;i++)e.select(".u-item-"+i).boundingClientRect();e.exec((function(e){e.length||setTimeout((function(){t.getTabsInfo()}),10),e.map((function(e,i){t.listInfo[i].width=e.width})),("subsection"==t.mode||"button"==t.mode)&&(t.itemBgStyle.width=t.listInfo[0].width+"px"),t.itemBgLeft()}))},itemBgLeft:function(){var t=this;this.animation?this.itemBgStyle.transition="all 0.35s":this.itemBgStyle.transition="all 0s";var e=0;this.listInfo.map((function(i,a){a<t.currentIndex&&(e+=i.width)})),"subsection"==this.mode?this.itemBgStyle.left=e+"px":"button"==this.mode&&(this.itemBgStyle.left=e+this.buttonPadding+"px")}}};e.default=o},c61e:function(t,e,i){"use strict";i.r(e);var a=i("3d14"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},dbfa:function(t,e,i){"use strict";var a=i("2cd2"),n=i.n(a);n.a},f83e:function(t,e,i){"use strict";var a=i("1960"),n=i.n(a);n.a},fac4:function(t,e,i){var a=i("0361");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("aca63eb4",a,!0,{sourceMap:!1,shadowMode:!1})}}]);