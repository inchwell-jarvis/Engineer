(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-works-one-OneAddGcs"],{"1f7e":function(t,i,e){"use strict";e.r(i);var a=e("d727"),s=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=s.a},2161:function(t,i,e){"use strict";e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var a={uIcon:e("fdc6").default,uSelect:e("11f7").default,uInput:e("8db5").default},s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"box"},[e("v-uni-view",{staticClass:"Customer"},[e("v-uni-view",{staticClass:"Customer_Top"},[t._v("报修信息")]),e("v-uni-view",{staticClass:"Mini_list"},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("报修单号")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.RequestCode))])],1),e("v-uni-view",{staticClass:"Mini_list"},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("报修设备")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.ProductDes))])],1),e("v-uni-view",{staticClass:"Mini_list"},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("序列号")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.SerialNumber))])],1),e("v-uni-view",{staticClass:"Mini_list"},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("客户名称")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.CustomerName))])],1),e("v-uni-view",{staticClass:"Mini_list"},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("报修人地址")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.Address))])],1)],1),e("v-uni-view",{staticClass:"Customer"},[e("v-uni-view",{staticClass:"Customer_Top"},[t._v("联系人信息")]),e("v-uni-view",{staticClass:"Mini_list"},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("姓名")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.RepairManInfo.ChineseName))])],1),e("v-uni-view",{staticClass:"Mini_list"},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("英文名")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.RepairManInfo.EnglishName))])],1),e("v-uni-view",{staticClass:"Mini_list",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.Tel(t.RepairManInfo.MobilePhone)}}},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("手机")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.RepairManInfo.MobilePhone)),e("u-icon",{attrs:{name:"phone-fill",color:"#2979ff",size:"28"}}),e("span",[t._v("点击呼叫")])],1)],1),e("v-uni-view",{staticClass:"Mini_list",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.Tel(t.RepairManInfo.Tel)}}},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("电话")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.RepairManInfo.Tel)),e("u-icon",{attrs:{name:"phone-fill",color:"#2979ff",size:"28"}}),e("span",[t._v("点击呼叫")])],1)],1)],1),e("v-uni-view",{staticClass:"Customer"},[e("v-uni-view",{staticClass:"Customer_Top"},[t._v("基础信息")]),e("v-uni-view",{staticClass:"Mini_list"},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("工单单号")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.WorkOrderCode))])],1),e("v-uni-view",{staticClass:"Mini_list"},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("工单类型")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.OrderTypeStr))])],1),e("v-uni-view",{staticClass:"Mini_list"},[e("v-uni-view",{staticClass:"Mini_list_left"},[t._v("工单状态")]),e("v-uni-view",{staticClass:"Mini_list_right"},[t._v(t._s(t.data.StatusStr))])],1)],1),e("v-uni-view",{staticClass:"Customer"},[e("v-uni-view",{staticClass:"Customer_Top"},[t._v("备注")]),e("v-uni-view",{staticClass:"textarea"},[t._v(t._s(t.data.Memo))])],1),e("v-uni-view",{staticClass:"Customer"},[e("v-uni-view",{staticClass:"Customer_Top"},[t._v("故障描述")]),e("v-uni-view",{staticClass:"textarea"},[t._v(t._s(t.data.TroubleDescriptions))])],1),e("v-uni-view",{staticClass:"Customer"},[e("v-uni-view",{staticClass:"Customer_Top"},[t._v("工程师")]),e("v-uni-view",{staticClass:"textarea"},[t._v(t._s(t.Enginner))])],1),0!=this.RepairFaultImages.length?e("v-uni-text",[t._v("故障图片")]):t._e(),0!=this.RepairFaultImages.length?e("v-uni-view",{staticClass:"thisphotos"},[t._l(this.RepairFaultImages,(function(i,a){return"picture"==i.Type?e("v-uni-image",{key:a,attrs:{src:i.Path,mode:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.yulan(a)}}}):t._e()})),t.Videoshow?e("v-uni-image",{staticClass:"uploade-img",attrs:{src:t.icon,mode:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.show()}}}):t._e()],2):t._e(),e("u-select",{attrs:{mode:"single-column",list:t.selector},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.GcsHD.apply(void 0,arguments)}},model:{value:t.shows,callback:function(i){t.shows=i},expression:"shows"}}),e("u-select",{attrs:{mode:"single-column",list:t.itemList},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.GcsLX.apply(void 0,arguments)}},model:{value:t.showss,callback:function(i){t.showss=i},expression:"showss"}}),7==t.Status||8==t.Status||47==t.Status||48==t.Status?e("v-uni-text",[t._v("增派工程师")]):t._e(),7==t.Status||8==t.Status||47==t.Status||48==t.Status?e("v-uni-view",{staticClass:"view"},[e("v-uni-view",{staticClass:"tie"},[e("v-uni-text",[t._v("选择工程师")]),e("v-uni-text",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showTrue()}}},[t._v(t._s(t.Dat.name))])],1),e("v-uni-view",{staticClass:"tie"},[e("v-uni-text",[t._v("类型")]),e("v-uni-text",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showTrues()}}},[t._v(t._s(t.Dat.lei))])],1),e("v-uni-view",{staticClass:"tie"},[e("v-uni-text",[t._v("工时")]),e("u-input",{attrs:{type:"number"},model:{value:t.Dat.time,callback:function(i){t.$set(t.Dat,"time",i)},expression:"Dat.time"}})],1),e("v-uni-button",{staticClass:"buttons",attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.but.apply(void 0,arguments)}}},[t._v("增派")])],1):t._e()],1)},o=[]},"40c4":function(t,i,e){var a=e("c86c");i=a(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.box[data-v-5434b2dc]{height:100%;font-size:14px;box-sizing:border-box}.box .Customer[data-v-5434b2dc]{width:100%;background-color:#fff;margin-top:20px}.box .Customer .thisphotos[data-v-5434b2dc]{width:100%;background-color:#fff}.box .Customer .thisphotos uni-image[data-v-5434b2dc]{width:80%;display:block;margin:auto;margin-top:10px}.box .Customer .Customer_Top[data-v-5434b2dc]{width:100%;height:40px;border-bottom:1px solid #c3c3c3;line-height:40px;padding-left:20px;font-weight:700;box-sizing:border-box}.box .Customer .textarea[data-v-5434b2dc]{width:90%;margin:auto;margin:10px}.box .Customer .textarea .textarea[data-v-5434b2dc]{text-indent:10px;font-size:14px;color:#555}.box .Customer .textarea .Quote[data-v-5434b2dc]{width:100%;border-radius:10px;margin-bottom:10px;height:100px;padding-top:10px;box-sizing:border-box}.box .Customer .textarea .Quote uni-button[data-v-5434b2dc]{float:right}.box .Customer .textarea .Quote .Quote_Top[data-v-5434b2dc]{width:100%;height:25px}.box .Customer .textarea .Quote .Quote_Top uni-text[data-v-5434b2dc]{float:right}.box .Customer .textarea .Customer_Top_Code[data-v-5434b2dc]{width:100%;height:20px;border-bottom:1px solid #c8c7cc}.box .Customer .textarea .Customer_Top_Code .Customer_Top_Code_left[data-v-5434b2dc]{width:50%;float:left;line-height:20px;color:#999}.box .Customer .textarea .Customer_Top_Code .Customer_Top_Code_right[data-v-5434b2dc]{text-align:right;line-height:20px}.box .Customer .textarea uni-image[data-v-5434b2dc]{width:100px;height:100px;margin-left:10px}.box .Customer .Mini_list[data-v-5434b2dc]{width:100%;height:30px;line-height:30px;padding-left:20px;box-sizing:border-box}.box .Customer .Mini_list .Mini_list_left[data-v-5434b2dc]{width:25%;height:100%;font-weight:700;float:left;font-size:12px;color:#555}.box .Customer .Mini_list .Mini_list_right[data-v-5434b2dc]{width:75%;height:100%;color:grey;float:left;overflow:hidden;font-size:12px}.box[data-v-5434b2dc]{width:100%;height:100%;background-color:#fff;font-size:14px}.box uni-text[data-v-5434b2dc]{font-weight:700;background-color:#fff;display:block;padding:5px;border-bottom:1px solid #333}.box .wendangxinxi[data-v-5434b2dc]{width:100%;height:30px;border-bottom:.5px solid #d9d9d9;background-color:#fff;padding-top:%?8?%;padding:%?8?% %?10?% 0 %?10?%;box-sizing:border-box}.box .wendangxinxi .text1[data-v-5434b2dc]{float:left}.box .wendangxinxi .text2[data-v-5434b2dc]{float:right}.box .view[data-v-5434b2dc]{width:100%;height:200px}.box .view .zhipai[data-v-5434b2dc]{width:100%}.box .view .zhipai uni-text[data-v-5434b2dc]{display:block;float:left}.box .tie[data-v-5434b2dc]{width:100%;height:50px;line-height:30px;padding-left:30px;box-sizing:border-box;font-size:13px}.box .tie uni-text[data-v-5434b2dc]{width:120px;display:block;float:left;font-weight:none;border:none}.box .tie uni-input[data-v-5434b2dc]{width:200px;float:left;display:block;margin-top:7px;border:1px solid grey;border-radius:5px;font-size:15px}.box .buttons[data-v-5434b2dc]{display:block;float:right;margin-right:10%}.box .button[data-v-5434b2dc]{margin-top:10px;width:80%;margin-bottom:30px}.box .bulone[data-v-5434b2dc]{background-color:#4cd964;color:#fff;margin-top:30px;margin-bottom:30px}.box .cu-form-group[data-v-5434b2dc]{width:100%;background:#fff;box-sizing:border-box;padding:10px;color:#999;float:left;margin:auto}.box .cu-form-group .title[data-v-5434b2dc]{width:100px;display:block;float:left;color:#333}.box .cu-form-group uni-input[data-v-5434b2dc]{font-size:14px}.box .thisphotos[data-v-5434b2dc]{width:100%;float:left;background-color:#fff}.box .thisphotos uni-image[data-v-5434b2dc]{width:100px;height:100px;display:block;margin:10px;float:left}.box .align-start .title[data-v-5434b2dc]{font-weight:700}.box .align-start uni-textarea[data-v-5434b2dc]{width:100%;margin-top:40px}.box .cu-form-groupas[data-v-5434b2dc]{height:40px;padding:0}.box .textms[data-v-5434b2dc]{padding:10px;box-sizing:border-box}.box .cu-form-group[data-v-5434b2dc]{width:95%;background:#fff;border:1px solid #ccc;box-sizing:border-box;padding:10px;color:#999;margin:auto;border-radius:10px;margin-top:10px}.box .cu-form-group .title[data-v-5434b2dc]{width:100px;display:block;float:left;color:#333}.box .cu-form-group uni-input[data-v-5434b2dc]{font-size:14px}',""]),t.exports=i},5224:function(t,i,e){var a=e("40c4");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("967d").default;s("66c46a8a",a,!0,{sourceMap:!1,shadowMode:!1})},5438:function(t,i,e){"use strict";e.r(i);var a=e("2161"),s=e("1f7e");for(var o in s)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(o);e("b679");var n=e("828b"),r=Object(n["a"])(s["default"],a["b"],a["c"],!1,null,"5434b2dc",null,!1,a["a"],void 0);i["default"]=r.exports},b679:function(t,i,e){"use strict";var a=e("5224"),s=e.n(a);s.a},d727:function(t,i,e){"use strict";e("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("aa9c");var a={name:"one",data:function(){return{data:{},Dat:{name:"点击选择工程师",id:"",lei:"维修",time:"0"},itemList:[{label:"维修",value:"维修"},{label:"安装",value:"安装"},{label:"保养",value:"保养"}],textareaAValue:"",CustomerId:"",RepairFaultImages:[],icon:e("e2f0"),Videoshow:!1,RepairManInfo:"",selector:[],shows:!1,showss:!1,Status:0,Enginner:""}},mounted:function(){var t=this;this.initgcs(),uni.showLoading({title:"加载中"});var i={url:this.$store.state.url+"WO/GetWorkOrderDetailFE",method:"GET",header:this.$store.state.token,data:{WoId:this.$store.state.codeurlid.WorkOrderId}};this.$http(i).then((function(i){t.CustomerId=i.Data.CustomerId,t.data=i.Data.Dto,t.RepairManInfo=i.Data.RepairManInfo,t.RepairFaultImages=i.Data.RepairFaultImages,t.Enginner=i.Data.Dto.Enginner;for(var e=0;e<t.RepairFaultImages.length;e++)"video"==t.RepairFaultImages[e].Type&&(t.Videoshow=!0);t.Status=i.Data.Dto.Status,console.log(i),setTimeout((function(){uni.hideLoading()}),500)}))},onBackPress:function(){return uni.navigateTo({url:"./OneListLS"}),!0},methods:{Tel:function(t){uni.makePhoneCall({phoneNumber:t})},showTrue:function(){this.shows=!0},showTrues:function(){this.showss=!0},GcsHD:function(t){console.log(t),this.Dat.name=t[0].label,this.Dat.id=t[0].value},GcsLX:function(t){console.log(t),this.Dat.lei=t[0].label},initgcs:function(){var t=this,i={url:this.$store.state.url+"System/GetEmployeeMini",method:"GET",header:this.$store.state.token,data:{type:"1"}};this.$http(i).then((function(i){t.selector=[],console.log(i);for(var e=0;e<i.Data.length;e++)t.selector.push({value:i.Data[e].EmployeeId,label:i.Data[e].Name});console.log(t.selector)}))},good:function(t){var i={url:this.$store.state.url+"WO/GotoArrive",method:"POST",header:this.$store.state.token,data:{WoId:this.$store.state.codeurlid.WorkOrderId,Status:t}};this.$http(i).then((function(t){uni.navigateTo({url:"../work.1"})}))},show:function(){this.$store.state.textVideo=this.RepairFaultImages,uni.navigateTo({url:"./textVideo"})},gcsapi:function(){var t=this,i={url:this.$store.state.url+"System/GetEmployeeMini",method:"GET",header:this.$store.state.token,data:{type:"1"}};this.$http(i).then((function(i){for(var e=[],a=0;a<i.Data.length;a++)e.push(i.Data[a].Name);console.log(i.Data),uni.showActionSheet({title:"选择工程师",itemList:e,success:function(a){t.Dat.name=e[a.tapIndex],t.Dat.id=i.Data[a.tapIndex].EmployeeId}})}))},type:function(){var t=this;uni.showActionSheet({title:"选择类型",itemList:["维修","安装","保养"],success:function(i){t.Dat.lei=t.itemList[i.tapIndex]}})},but:function(){if(""==this.Dat.id)uni.showToast({title:"请选择工程师",icon:"none"});else if(""==this.Dat.lei)uni.showToast({title:"请选择类型",icon:"none"});else if(""==this.Dat.time)uni.showToast({title:"请输入工时",icon:"none"});else{console.log(this.Dat);var t={url:this.$store.state.url+"WO/WODeploy",method:"POST",header:this.$store.state.token,data:{EnginnerId:this.Dat.id,ServiceType:this.Dat.lei,Manhour:this.Dat.time,WoId:this.$store.state.codeurlid.WorkOrderId}};this.$http(t).then((function(t){uni.navigateTo({url:"../work.1"})}))}},yulan:function(t){console.log(t);var i=[];i[0]=this.RepairFaultImages[t].Path,console.log(i),uni.previewImage({urls:i})}}};i.default=a}}]);